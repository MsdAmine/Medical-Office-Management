@model
MedicalOfficeManagement.Models.Patient
@{
    ViewData["Title"]
    ViewData["Breadcrumb"]
    bool canCreate = User.IsInRole("admin") || User.IsInRole("secretary");
}
@if (!canCreate)
{
    <div class="glass-card rounded-xl p-8 text-center">
        <h2 class="text-xl font-semibold text-red-600 mb-2">Access denied</h2>
        <p class="text-slate-600 mb-4">You do not have permission to register patients.</p>
        <a asp-action="Index" class="gradient-primary text-white px-4 py-2 rounded-lg">
            Back to Patients
        </a>
    </div>
    return;
}
<form
    asp-action="Create"
    method="post"
    class="space-y-6">
    @Html.AntiForgeryToken()<!-- Header -->
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-2xl font-bold text-slate-900">New Patient</h1>
            <p class="text-slate-600 mt-1">Register a new patient</p>
        </div>
        <a asp-action="Index" class="px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50">
             Back
        </a>
    </div>
    <!-- Card -->
    <div class="glass-card rounded-xl p-6 space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label class="block text-sm font-medium text-slate-900 mb-1">Nom *</label>
                <input
                    asp-for="Nom"
                    class="w-full px-4 py-2 border border-slate-300 rounded-lg"
                    required />
                <span asp-validation-for="Nom" class="text-red-600 text-sm"></span>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-900 mb-1">Pr?nom *</label>
                <input
                    asp-for="Prenom"
                    class="w-full px-4 py-2 border border-slate-300 rounded-lg"
                    required />
                <span asp-validation-for="Prenom" class="text-red-600 text-sm"></span>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-900 mb-1">Date of Birth *</label>
                <input
                    asp-for="DateNaissance"
                    type="date"
                    class="w-full px-4 py-2 border border-slate-300 rounded-lg" />
                <span asp-validation-for="DateNaissance" class="text-red-600 text-sm"></span>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-900 mb-1">Phone</label>
                <input asp-for="Telephone" class="w-full px-4 py-2 border border-slate-300 rounded-lg" />
                <span asp-validation-for="Telephone" class="text-red-600 text-sm"></span>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-900 mb-1">Email</label>
                <input
                    asp-for="Email"
                    type="email"
                    class="w-full px-4 py-2 border border-slate-300 rounded-lg" />
                <span asp-validation-for="Email" class="text-red-600 text-sm"></span>
            </div>
            <div class="md:col-span-2">
                <label class="block text-sm font-medium text-slate-900 mb-1">Address</label>
                <input asp-for="Adresse" class="w-full px-4 py-2 border border-slate-300 rounded-lg" />
                <span asp-validation-for="Adresse" class="text-red-600 text-sm"></span>
            </div>
        </div>
        <!-- Actions -->
        <div class="flex justify-end space-x-3 pt-4 border-t border-slate-200">
            <a asp-action="Index" class="px-6 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50">
                Cancel
            </a>
            <button type="submit" class="gradient-primary text-white px-6 py-2 rounded-lg font-medium hover:shadow-lg">
                Save Patient
            </button>
        </div>
    </div>
</form>
@section
Scripts {
<partial name="_ValidationScriptsPartial" />
}
<style>.glass-card {
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(226, 232, 240, 0.8);
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .gradient-primary {
        background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    }</style>
