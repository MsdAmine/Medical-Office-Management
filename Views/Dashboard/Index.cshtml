@* File: Views/Dashboard/Index.cshtml *@
@model MedicalOfficeManagement.ViewModels.Dashboard.DashboardViewModel

@{
    ViewBag.Title = "Dashboard";
}

<div class="page-shell">
    <div class="page-header">
        <div class="space-y-2">
            <div class="inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs font-semibold uppercase tracking-wide">Dashboard</div>
            <div>
                <h1 class="page-title">Welcome back, @Model.UserDisplayName</h1>
                <p class="page-subtitle">@Model.Now.ToString("dddd, MMMM dd, yyyy") · @Model.Now.ToString("h:mm tt")</p>
            </div>
        </div>
        <div class="flex flex-wrap gap-3">
            <a href="@Url.Action("Index", "Appointments")" class="btn-secondary">View Schedule</a>
            <a href="@Url.Action("Index", "Patients")" class="btn-primary">Add Patient</a>
        </div>
    </div>

    <div class="stat-grid">
        @foreach (var stat in Model.Stats)
        {
            @Html.Partial("_StatCard", stat)
        }
    </div>

    <div class="space-y-4">
        <div class="flex items-center justify-between">
            <div>
                <h2 class="section-heading">Quick Actions</h2>
                <p class="section-caption">High-frequency tasks surfaced for today</p>
            </div>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            @foreach (var action in Model.QuickActions)
            {
                @Html.Partial("_QuickActionCard", action)
            }
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div class="surface p-6 space-y-4">
            <h3 class="section-heading">Alerts</h3>
            <div class="space-y-3">
                @foreach (var alert in Model.Alerts)
                {
                    <div class="flex items-start gap-3 p-3 rounded-xl border border-slate-100 bg-slate-50/60">
                        <div class="h-9 w-9 rounded-lg bg-amber-100 text-amber-700 flex items-center justify-center">⚠️</div>
                        <div>
                            <div class="font-semibold text-slate-900">@alert.Title</div>
                            <p class="text-sm text-slate-500">@alert.Description</p>
                        </div>
                    </div>
                }
            </div>
        </div>

        <div class="surface p-6 space-y-4">
            <h3 class="section-heading">Tasks</h3>
            <div class="space-y-3">
                @foreach (var task in Model.Tasks)
                {
                    <div class="flex items-center justify-between p-3 rounded-xl border border-slate-100">
                        <div>
                            <div class="font-semibold text-slate-900">@task.Title</div>
                            <p class="text-sm text-slate-500">@task.Details</p>
                        </div>
                        <span class="badge-soft blue">@task.Status</span>
                    </div>
                }
            </div>
        </div>
    </div>

    <div class="space-y-4">
        <div class="flex items-center justify-between">
            <div>
                <h2 class="section-heading">Modules</h2>
                <p class="section-caption">Jump to key areas of the platform</p>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            @foreach (var module in Model.Modules)
            {
                @Html.Partial("_ModuleCard", module)
            }
        </div>
    </div>
</div>
