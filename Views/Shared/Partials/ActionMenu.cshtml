@model MedicalOfficeManagement.ViewModels.UI.ActionMenuModel

<details class="relative group inline-block">
    <summary class="inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-500 hover:text-slate-800 hover:bg-slate-50 cursor-pointer select-none shadow-[0_2px_4px_rgba(0,0,0,0.05)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500">
        <span class="sr-only">@Model.Label</span>
        <span aria-hidden="true" class="text-lg leading-none">â‹®</span>
    </summary>
    <div class="absolute right-0 mt-2 w-52 rounded-lg border border-slate-200 bg-white shadow-[0_2px_4px_rgba(0,0,0,0.05)] ring-1 ring-black/5 z-20">
        <ul class="py-1 text-left text-sm text-slate-700">
            @foreach (var item in Model.Items)
            {
                if (item.DividerBefore)
                {
                    <li class="border-t border-slate-100 my-1"></li>
                }
                var toneClass = item.Tone switch
                {
                    "danger" => "text-rose-600",
                    "warning" => "text-amber-700",
                    "success" => "text-emerald-600",
                    _ => "text-slate-700"
                };
                if (!string.IsNullOrEmpty(item.Href) && !item.Disabled)
                {
                    <li>
                        <a href="@item.Href" class="flex items-center gap-2 px-3 py-2.5 hover:bg-slate-50 focus:bg-slate-50 @toneClass">
                            <span class="h-2.5 w-2.5 rounded-full bg-current/70"></span>
                            @item.Label
                        </a>
                    </li>
                }
                else
                {
                    <li>
                        <span class="flex items-center gap-2 px-3 py-2.5 text-slate-400 cursor-not-allowed">
                            <span class="h-2.5 w-2.5 rounded-full bg-slate-300"></span>
                            @item.Label
                        </span>
                    </li>
                }
            }
        </ul>
    </div>
</details>
