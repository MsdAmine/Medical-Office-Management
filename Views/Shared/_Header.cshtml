@using Microsoft.AspNetCore.Identity
@using MedicalOfficeManagement.Models
@inject UserManager<ApplicationUser> UserManager

@{
    var user = await UserManager.GetUserAsync(User);
    var displayName = (user != null && !string.IsNullOrEmpty(user.FirstName)) 
        ? $"{user.FirstName} {user.LastName}" 
        : User.Identity?.Name;
}

<header class="fixed top-0 left-0 right-0 h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 z-50">
    <div class="flex items-center space-x-3">
        <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold">M</div>
        <span class="text-xl font-bold tracking-tight text-gray-900">MedicalOffice</span>
    </div>
    
    <div class="flex items-center space-x-4">
        <div class="hidden sm:flex flex-col items-end mr-2">
            <span class="text-[10px] font-black text-gray-400 uppercase tracking-widest">Logged in as</span>
            <span class="text-sm font-bold text-gray-800">@displayName</span>
        </div>
        <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center text-white font-bold shadow-lg shadow-blue-100">
            @(user?.FirstName?.Substring(0, 1).ToUpper() ?? "A")
        </div>
    </div>
</header>