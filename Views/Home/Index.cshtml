@model MedicalOfficeManagement.ViewModels.DashboardViewModel
@using MedicalOfficeManagement.Models.Security
@{
    ViewData["Title"] = "Dashboard";
}

<div class="space-y-8">
    <!-- Welcome Header -->
    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 shadow-sm">
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
            <div>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-900 mb-2">
                    Welcome, @User.Identity?.Name
                </h1>
                <p class="text-slate-600 text-lg">
                    @DateTime.Now.ToString("dddd, MMMM d, yyyy")
                </p>
                <p class="text-slate-500 mt-2">
                    @if (User.IsInRole(SystemRoles.Admin))
                    {
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                            <i class="fas fa-user-shield mr-2"></i>
                            Administrator
                        </span>
                    }
                    else if (User.IsInRole(SystemRoles.Secretaire))
                    {
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800">
                            <i class="fas fa-user-tie mr-2"></i>
                            Secretary
                        </span>
                    }
                    else if (User.IsInRole(SystemRoles.Medecin))
                    {
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-cyan-100 text-cyan-800">
                            <i class="fas fa-stethoscope mr-2"></i>
                            MÃ©decin
                        </span>
                    }
                    else if (User.IsInRole(SystemRoles.Patient))
                    {
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800">
                            <i class="fas fa-user-injured mr-2"></i>
                            Patient
                        </span>
                    }
                </p>
            </div>
            <div class="bg-white rounded-xl p-4 shadow-sm">
                <div class="text-sm text-slate-500 mb-1">Quick Actions</div>
                <div class="flex flex-wrap gap-3">
                    @if (User.IsInRole(SystemRoles.Admin) || User.IsInRole(SystemRoles.Secretaire))
                    {
                        <a asp-controller="Patients" asp-action="Create" 
                           class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition">
                            <i class="fas fa-user-plus mr-2"></i>
                            New Patient
                        </a>
                        <a asp-controller="Appointments" asp-action="Create" 
                           class="inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition">
                            <i class="fas fa-calendar-plus mr-2"></i>
                            New Appointment
                        </a>
                    }
                    @if (User.IsInRole(SystemRoles.Medecin))
                    {
                        <a asp-controller="Appointments" asp-action="Index" 
                           class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white rounded-lg font-medium hover:bg-cyan-700 transition">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            My Appointments
                        </a>
                    }
                    @if (User.IsInRole(SystemRoles.Patient))
                    {
                        <a asp-controller="PatientPortal" asp-action="RequestAppointment" 
                           class="inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition">
                            <i class="fas fa-calendar-plus mr-2"></i>
                            Request Appointment
                        </a>
                        <a asp-controller="PatientPortal" asp-action="Index" 
                           class="inline-flex items-center px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg font-medium hover:bg-slate-50 transition">
                            <i class="fas fa-user-circle mr-2"></i>
                            My Portal
                        </a>
                    }
                </div>
            </div>
        </div>
    </div>

    <!-- Metrics Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        @if (User.IsInRole(SystemRoles.Admin) || User.IsInRole(SystemRoles.Secretaire))
        {
            <!-- Total Patients -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Total Patients</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.TotalPatients</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center">
                        <i class="fas fa-users text-blue-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="Patients" asp-action="Index" class="text-sm text-blue-600 hover:text-blue-800 mt-4 inline-flex items-center">
                    View all <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>

            <!-- Today's Appointments -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Today's Appointments</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.TodayAppointments</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-emerald-100 flex items-center justify-center">
                        <i class="fas fa-calendar-day text-emerald-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="Appointments" asp-action="Index" class="text-sm text-emerald-600 hover:text-emerald-800 mt-4 inline-flex items-center">
                    View schedule <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>

            <!-- Pending Approvals -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Pending Approvals</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.PendingAppointmentApprovals</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-amber-100 flex items-center justify-center">
                        <i class="fas fa-clock text-amber-600 text-xl"></i>
                    </div>
                </div>
                @if (Model.PendingAppointmentApprovals > 0)
                {
                    <a asp-controller="Appointments" asp-action="PendingApproval" class="text-sm text-amber-600 hover:text-amber-800 mt-4 inline-flex items-center">
                        Review <i class="fas fa-arrow-right ml-1 text-xs"></i>
                    </a>
                }
            </div>

            <!-- Open Invoices -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Open Invoices</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.OpenInvoices</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-purple-100 flex items-center justify-center">
                        <i class="fas fa-file-invoice-dollar text-purple-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="Billing" asp-action="Index" class="text-sm text-purple-600 hover:text-purple-800 mt-4 inline-flex items-center">
                    View billing <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>
        }
        else if (User.IsInRole(SystemRoles.Medecin))
        {
            <!-- Today's Appointments -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Today's Appointments</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.MyTodayAppointments</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-cyan-100 flex items-center justify-center">
                        <i class="fas fa-calendar-day text-cyan-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="Appointments" asp-action="Index" class="text-sm text-cyan-600 hover:text-cyan-800 mt-4 inline-flex items-center">
                    View schedule <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>

            <!-- Upcoming Appointments -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Upcoming</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.MyUpcomingAppointments</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center">
                        <i class="fas fa-calendar-alt text-blue-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="Appointments" asp-action="Index" class="text-sm text-blue-600 hover:text-blue-800 mt-4 inline-flex items-center">
                    View all <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>

            <!-- My Patients -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">My Patients</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.MyPatients</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-emerald-100 flex items-center justify-center">
                        <i class="fas fa-user-friends text-emerald-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="Patients" asp-action="Index" class="text-sm text-emerald-600 hover:text-emerald-800 mt-4 inline-flex items-center">
                    View patients <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>

            <!-- Pending Consultations -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Pending Consultations</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.MyPendingConsultations</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-amber-100 flex items-center justify-center">
                        <i class="fas fa-clipboard-list text-amber-600 text-xl"></i>
                    </div>
                </div>
            </div>
        }
        else if (User.IsInRole(SystemRoles.Patient))
        {
            <!-- Upcoming Appointments -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Upcoming Appointments</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.MyUpcomingAppointmentsCount</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-purple-100 flex items-center justify-center">
                        <i class="fas fa-calendar-alt text-purple-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="PatientPortal" asp-action="Upcoming" class="text-sm text-purple-600 hover:text-purple-800 mt-4 inline-flex items-center">
                    View appointments <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>

            <!-- Lab Results -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Lab Results</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.MyLabResultsCount</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center">
                        <i class="fas fa-vial text-blue-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="PatientPortal" asp-action="Results" class="text-sm text-blue-600 hover:text-blue-800 mt-4 inline-flex items-center">
                    View results <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>

            <!-- Prescriptions -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-slate-600">Prescriptions</p>
                        <p class="text-3xl font-bold text-slate-900 mt-2">@Model.MyPrescriptionsCount</p>
                    </div>
                    <div class="h-12 w-12 rounded-lg bg-emerald-100 flex items-center justify-center">
                        <i class="fas fa-prescription text-emerald-600 text-xl"></i>
                    </div>
                </div>
                <a asp-controller="PatientPortal" asp-action="Treatments" class="text-sm text-emerald-600 hover:text-emerald-800 mt-4 inline-flex items-center">
                    View treatments <i class="fas fa-arrow-right ml-1 text-xs"></i>
                </a>
            </div>

            <!-- Patient Info -->
            @if (Model.PatientProfile != null)
            {
                <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-slate-600">Patient ID</p>
                            <p class="text-2xl font-bold text-slate-900 mt-2">#@Model.PatientProfile.Id</p>
                        </div>
                        <div class="h-12 w-12 rounded-lg bg-cyan-100 flex items-center justify-center">
                            <i class="fas fa-id-card text-cyan-600 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-xs text-slate-500 mt-2">@Model.PatientProfile.Nom @Model.PatientProfile.Prenom</p>
                </div>
            }
        }
    </div>

    <!-- Main Content Area -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Main Content (2/3 width) -->
        <div class="lg:col-span-2 space-y-8">
            @if (User.IsInRole(SystemRoles.Admin) || User.IsInRole(SystemRoles.Secretaire))
            {
                <!-- Upcoming Appointments -->
                <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-slate-900">Upcoming Appointments</h2>
                        <a asp-controller="Appointments" asp-action="Index" class="text-sm text-blue-600 hover:text-blue-800 font-medium">
                            View all <i class="fas fa-arrow-right ml-1"></i>
                        </a>
                    </div>
                    @if (Model.UpcomingAppointmentsList.Any())
                    {
                        <div class="space-y-4">
                            @foreach (var appointment in Model.UpcomingAppointmentsList)
                            {
                                <div class="flex items-start p-4 rounded-lg border border-slate-200 hover:border-blue-300 hover:bg-blue-50 transition">
                                    <div class="flex-shrink-0 h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center mr-4">
                                        <i class="fas fa-calendar text-blue-600"></i>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center justify-between">
                                            <p class="font-semibold text-slate-900">@appointment.PatientName</p>
                                            <span class="px-2 py-1 text-xs font-medium rounded-full 
                                                @(appointment.Status == "Confirmed" ? "bg-green-100 text-green-800" : 
                                                  appointment.Status == "Pending Approval" ? "bg-amber-100 text-amber-800" : 
                                                  "bg-slate-100 text-slate-800")">
                                                @appointment.Status
                                            </span>
                                        </div>
                                        <p class="text-sm text-slate-600 mt-1">
                                            <i class="fas fa-user-md mr-1"></i>@appointment.MedecinName
                                        </p>
                                        <p class="text-sm text-slate-600">
                                            <i class="fas fa-clock mr-1"></i>@appointment.DateDebut.ToString("MMM d, yyyy 'at' h:mm tt")
                                        </p>
                                        @if (!string.IsNullOrWhiteSpace(appointment.Motif))
                                        {
                                            <p class="text-sm text-slate-500 mt-1">
                                                <i class="fas fa-comment mr-1"></i>@appointment.Motif
                                            </p>
                                        }
                                    </div>
                                </div>
                            }
                        </div>
                    }
                    else
                    {
                        <div class="text-center py-8 text-slate-500">
                            <i class="fas fa-calendar-times text-4xl mb-3 text-slate-300"></i>
                            <p>No upcoming appointments</p>
                        </div>
                    }
                </div>

                <!-- Recent Patients -->
                <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-slate-900">Recent Patients</h2>
                        <a asp-controller="Patients" asp-action="Index" class="text-sm text-blue-600 hover:text-blue-800 font-medium">
                            View all <i class="fas fa-arrow-right ml-1"></i>
                        </a>
                    </div>
                    @if (Model.RecentPatients.Any())
                    {
                        <div class="space-y-3">
                            @foreach (var patient in Model.RecentPatients)
                            {
                                <a asp-controller="Patients" asp-action="Details" asp-route-id="@patient.Id" 
                                   class="flex items-center p-3 rounded-lg border border-slate-200 hover:border-emerald-300 hover:bg-emerald-50 transition group">
                                    <div class="flex-shrink-0 h-10 w-10 rounded-full bg-emerald-100 flex items-center justify-center mr-3">
                                        <i class="fas fa-user text-emerald-600"></i>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <p class="font-medium text-slate-900 group-hover:text-emerald-900">@patient.FullName</p>
                                        <p class="text-sm text-slate-600">@patient.Email</p>
                                    </div>
                                    <div class="text-xs text-slate-500">
                                        @patient.CreatedAt.ToString("MMM d, yyyy")
                                    </div>
                                </a>
                            }
                        </div>
                    }
                    else
                    {
                        <div class="text-center py-8 text-slate-500">
                            <i class="fas fa-users text-4xl mb-3 text-slate-300"></i>
                            <p>No recent patients</p>
                        </div>
                    }
                </div>
            }
            else if (User.IsInRole(SystemRoles.Medecin))
            {
                <!-- My Upcoming Appointments -->
                <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-slate-900">My Upcoming Appointments</h2>
                        <a asp-controller="Appointments" asp-action="Index" class="text-sm text-cyan-600 hover:text-cyan-800 font-medium">
                            View all <i class="fas fa-arrow-right ml-1"></i>
                        </a>
                    </div>
                    @if (Model.UpcomingAppointmentsList.Any())
                    {
                        <div class="space-y-4">
                            @foreach (var appointment in Model.UpcomingAppointmentsList)
                            {
                                <div class="flex items-start p-4 rounded-lg border border-slate-200 hover:border-cyan-300 hover:bg-cyan-50 transition">
                                    <div class="flex-shrink-0 h-12 w-12 rounded-lg bg-cyan-100 flex items-center justify-center mr-4">
                                        <i class="fas fa-calendar text-cyan-600"></i>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center justify-between">
                                            <p class="font-semibold text-slate-900">@appointment.PatientName</p>
                                            <span class="px-2 py-1 text-xs font-medium rounded-full 
                                                @(appointment.Status == "Confirmed" ? "bg-green-100 text-green-800" : 
                                                  appointment.Status == "Pending Approval" ? "bg-amber-100 text-amber-800" : 
                                                  "bg-slate-100 text-slate-800")">
                                                @appointment.Status
                                            </span>
                                        </div>
                                        <p class="text-sm text-slate-600 mt-1">
                                            <i class="fas fa-clock mr-1"></i>@appointment.DateDebut.ToString("MMM d, yyyy 'at' h:mm tt")
                                        </p>
                                        @if (!string.IsNullOrWhiteSpace(appointment.Motif))
                                        {
                                            <p class="text-sm text-slate-500 mt-1">
                                                <i class="fas fa-comment mr-1"></i>@appointment.Motif
                                            </p>
                                        }
                                    </div>
                                </div>
                            }
                        </div>
                    }
                    else
                    {
                        <div class="text-center py-8 text-slate-500">
                            <i class="fas fa-calendar-times text-4xl mb-3 text-slate-300"></i>
                            <p>No upcoming appointments</p>
                        </div>
                    }
                </div>
            }
            else if (User.IsInRole(SystemRoles.Patient))
            {
                <!-- My Upcoming Appointments -->
                <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-slate-900">My Upcoming Appointments</h2>
                        <a asp-controller="PatientPortal" asp-action="Upcoming" class="text-sm text-purple-600 hover:text-purple-800 font-medium">
                            View all <i class="fas fa-arrow-right ml-1"></i>
                        </a>
                    </div>
                    @if (Model.UpcomingAppointmentsList.Any())
                    {
                        <div class="space-y-4">
                            @foreach (var appointment in Model.UpcomingAppointmentsList)
                            {
                                <div class="flex items-start p-4 rounded-lg border border-slate-200 hover:border-purple-300 hover:bg-purple-50 transition">
                                    <div class="flex-shrink-0 h-12 w-12 rounded-lg bg-purple-100 flex items-center justify-center mr-4">
                                        <i class="fas fa-calendar text-purple-600"></i>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center justify-between">
                                            <p class="font-semibold text-slate-900">Dr. @appointment.MedecinName</p>
                                            <span class="px-2 py-1 text-xs font-medium rounded-full 
                                                @(appointment.Status == "Confirmed" ? "bg-green-100 text-green-800" : 
                                                  appointment.Status == "Pending Approval" ? "bg-amber-100 text-amber-800" : 
                                                  "bg-slate-100 text-slate-800")">
                                                @appointment.Status
                                            </span>
                                        </div>
                                        <p class="text-sm text-slate-600 mt-1">
                                            <i class="fas fa-clock mr-1"></i>@appointment.DateDebut.ToString("MMM d, yyyy 'at' h:mm tt")
                                        </p>
                                        @if (!string.IsNullOrWhiteSpace(appointment.Motif))
                                        {
                                            <p class="text-sm text-slate-500 mt-1">
                                                <i class="fas fa-comment mr-1"></i>@appointment.Motif
                                            </p>
                                        }
                                    </div>
                                </div>
                            }
                        </div>
                    }
                    else
                    {
                        <div class="text-center py-8 text-slate-500">
                            <i class="fas fa-calendar-times text-4xl mb-3 text-slate-300"></i>
                            <p>No upcoming appointments</p>
                            <a asp-controller="PatientPortal" asp-action="RequestAppointment" 
                               class="mt-4 inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition">
                                <i class="fas fa-plus mr-2"></i>
                                Request an Appointment
                            </a>
                        </div>
                    }
                </div>
            }
        </div>

        <!-- Sidebar (1/3 width) -->
        <div class="space-y-8">
            <!-- Quick Links -->
            <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
                <h2 class="text-xl font-bold text-slate-900 mb-4">Quick Links</h2>
                <div class="space-y-2">
                    @if (User.IsInRole(SystemRoles.Admin) || User.IsInRole(SystemRoles.Secretaire))
                    {
                        <a asp-controller="Patients" asp-action="Index"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-emerald-100 flex items-center justify-center mr-3">
                                <i class="fas fa-users text-emerald-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">Patients</div>
                                <p class="text-sm text-slate-600">Manage patient records</p>
                            </div>
                        </a>
                        
                        <a asp-controller="Appointments" asp-action="Index"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-calendar-alt text-blue-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">Appointments</div>
                                <p class="text-sm text-slate-600">View and manage appointments</p>
                            </div>
                        </a>

                        <a asp-controller="Billing" asp-action="Index"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-purple-100 flex items-center justify-center mr-3">
                                <i class="fas fa-file-invoice-dollar text-purple-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">Billing</div>
                                <p class="text-sm text-slate-600">Manage invoices and payments</p>
                            </div>
                        </a>

                        <a asp-controller="Labs" asp-action="Index"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-cyan-100 flex items-center justify-center mr-3">
                                <i class="fas fa-vial text-cyan-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">Lab Results</div>
                                <p class="text-sm text-slate-600">View lab results</p>
                            </div>
                        </a>
                    }
                    else if (User.IsInRole(SystemRoles.Medecin))
                    {
                        <a asp-controller="Appointments" asp-action="Index"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-cyan-100 flex items-center justify-center mr-3">
                                <i class="fas fa-calendar-alt text-cyan-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">My Appointments</div>
                                <p class="text-sm text-slate-600">View my schedule</p>
                            </div>
                        </a>

                        <a asp-controller="Patients" asp-action="Index"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-emerald-100 flex items-center justify-center mr-3">
                                <i class="fas fa-user-friends text-emerald-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">My Patients</div>
                                <p class="text-sm text-slate-600">View patient records</p>
                            </div>
                        </a>

                        <a asp-controller="Prescriptions" asp-action="Index"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-prescription text-blue-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">Prescriptions</div>
                                <p class="text-sm text-slate-600">Manage prescriptions</p>
                            </div>
                        </a>
                    }
                    else if (User.IsInRole(SystemRoles.Patient))
                    {
                        <a asp-controller="PatientPortal" asp-action="Upcoming"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-purple-100 flex items-center justify-center mr-3">
                                <i class="fas fa-calendar-alt text-purple-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">My Appointments</div>
                                <p class="text-sm text-slate-600">View upcoming appointments</p>
                            </div>
                        </a>

                        <a asp-controller="PatientPortal" asp-action="Results"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-vial text-blue-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">Lab Results</div>
                                <p class="text-sm text-slate-600">View test results</p>
                            </div>
                        </a>

                        <a asp-controller="PatientPortal" asp-action="Treatments"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-emerald-100 flex items-center justify-center mr-3">
                                <i class="fas fa-prescription text-emerald-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">Treatments</div>
                                <p class="text-sm text-slate-600">View treatments and prescriptions</p>
                            </div>
                        </a>

                        <a asp-controller="PatientPortal" asp-action="History"
                           class="flex items-center p-3 rounded-lg hover:bg-slate-50 transition group">
                            <div class="h-10 w-10 rounded-lg bg-amber-100 flex items-center justify-center mr-3">
                                <i class="fas fa-history text-amber-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium text-slate-900">History</div>
                                <p class="text-sm text-slate-600">View medical history</p>
                            </div>
                        </a>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
